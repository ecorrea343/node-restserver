<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="336659641798-djit4jhm494qmtdjmr7c2ib6acjl23c1.apps.googleusercontent.com">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <title>Google SignIn Demo</title>
</head>
<body>
  <!-- Image and text -->
<nav class="navbar navbar-dark bg-dark">
    <a class="navbar-brand" href="#">
      <img src="data:image/png;base64,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" width="30" height="30" class="d-inline-block align-top" alt="">
      Bootstrap
    </a>
  </nav>
  <h1>Bienvenidos a este sitio.</h1>
  <div class="container">
    <div class="g-signin2" data-onsuccess="onSignIn"></div>
  </div>
  

  <script>
      function onSignIn(googleUser) {
        var profile = googleUser.getBasicProfile();
        console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
        console.log('Name: ' + profile.getName());
        console.log('Image URL: ' + profile.getImageUrl());
        console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
     
     
        var id_token = googleUser.getAuthResponse().id_token;
        console.log(id_token);       
        
        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/google');
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.onload = function() {
          console.log('Signed in as: ' + xhr.responseText);
        };
        xhr.send('idtoken=' + id_token);
     
     
      }
  </script>

  <a href="#" onclick="signOut();">Sign out</a>

  <script>
    function signOut() {
      var auth2 = gapi.auth2.getAuthInstance();
      auth2.signOut().then(function () {
        console.log('User signed out.');
      });
    }
  </script>

</body>
</html>